/**
 * skylark-domx-plugins-panels - The skylark panel plugins library for dom api extension
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-domx-plugins-panels/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-noder","skylark-domx-geom","skylark-domx-query","skylark-domx-plugins-base","./panels","./panel"],function(t,e,s,i,a,r,n,l,o){"use strict";var c=o.inherit({klassName:"Pagination",pluginName:"lark.panels.pagination",options:{tagName:"ul",css:"",selectors:{firstNavi:"li[aria-label='first']",prevNavi:"li[aria-label='prev']",nextNavi:"li[aria-label='next']",lastNavi:"li[aria-label='last']",numericNavi:"li:not([aria-label])",numericTxt:"a"},totalPages:7,maxButtonsVisible:5,currentPage:1},state:{totalPages:Number,currentPage:Number},_construct:function(t,e){o.prototype._construct.call(this,t,e),this.$first=this._velm.$(this.options.selectors.firstNavi),this.$prev=this._velm.$(this.options.selectors.prevNavi),this.$last=this._velm.$(this.options.selectors.lastNavi),this.$next=this._velm.$(this.options.selectors.nextNavi),this.$numeric=this._velm.$(this.options.selectors.numericNavi);var s=this;function i(t){var e=r(t);return!e.is(".disabled,.active")&&e}this.$first.click(function(){i(this)&&s.currentPage(1)}),this.$prev.click(function(){i(this)&&s.currentPage(s.currentPage()-1)}),this.$last.click(function(){i(this)&&s.currentPage(s.totalPages())}),this.$next.click(function(){i(this)&&s.currentPage(s.currentPage()+1)}),this.$numeric.click(function(){var t=i(this);if(t){var e=t.find(s.options.selectors.numericTxt).text(),a=parseInt(e);s.currentPage(a)}}),this._currentPage=this.options.currentPage,this._totalPages=this.options.totalPages,this._refresh({currentPage:!0,totalPages:!0})},_refresh:function(t){var e=this;if(t.currentPage||t.totalPages){var s=e.currentPage(),i=e.totalPages();!function(t,s){for(var i=Math.min(s,e.options.maxButtonsVisible),a=1,r=a+i-1;t<a||t>r;)t>r?(a+=i,(r+=i)>s&&(a-=r-s,r=s)):(r-=i,(a-=i)<0&&(r+=a+i,a=1));t===r&&1!=s&&(r=(a=t-1)+i-1)>=s&&(a-=r-s,r=s),a===t&&1!=s&&1!=t&&(a=(r=t+1)-(i-1));var n=e.$numeric.size(),l=r-a+1,o=0;for(e.$numeric.filter(".active").removeClass("active");o<l;){var c=o+a,u=e.$numeric.eq(o);u.find(e.options.selectors.numericTxt).text(o+a).show(),c==t&&u.addClass("active"),o++}for(;o<n;)e.$numeric.eq(o).find(e.options.selectors.numericTxt).text(o+a).hide(),o++}(s,i),function(t,s){if(t<1)throw"Page can't be less than 1";if(t>s)throw"Page is bigger than total pages";if(s<1)throw"Total Pages can't be less than 1";1==t?(e.$first.addClass("disabled"),e.$prev.addClass("disabled")):(e.$first.removeClass("disabled"),e.$prev.removeClass("disabled")),t==s?(e.$last.addClass("disabled"),e.$next.addClass("disabled")):(e.$last.removeClass("disabled"),e.$next.removeClass("disabled"))}(s,i)}},currentPage:function(t){return void 0!==t?(this._currentPage=t,this._refresh({currentPage:!0}),this):this._currentPage},totalPages:function(t){return void 0!==t?(this._totalPages=t,this._refresh({totalPages:!0}),this):this._totalPages}});return n.register(c),l.Pagination=c});
//# sourceMappingURL=sourcemaps/pagination.js.map
